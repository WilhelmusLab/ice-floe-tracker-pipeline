using Dates

@testset "rotation" begin
    data_dir = joinpath(@__DIR__, "test_inputs", "rotation")
    temp_dir = mkpath(joinpath(@__DIR__, "__temp__", "rotation-single"))
    @testset "normal case" begin
        results = IFTPipeline.get_rotation_single(;
            input=joinpath(data_dir, "floes.tracked.normal.csv"),
            output=joinpath(temp_dir, "floes.tracked.normal.rotation.csv"),
        )
        @test nrow(results) == 24
    end

    @testset "short case" begin
        results = IFTPipeline.get_rotation_single(;
            input=joinpath(data_dir, "floes.tracked.short.csv"),
            output=joinpath(temp_dir, "floes.tracked.short.rotation.csv"),
        )
        @test nrow(results) == 2
    end

    @testset "synthetic case" begin
        results = IFTPipeline.get_rotation_single(;
            input=joinpath(data_dir, "floes.tracked.synthetic.csv"),
            output=joinpath(temp_dir, "floes.tracked.synthetic.rotation.csv"),
        )
        @test nrow(results) == 6
        @test results[1, :theta_deg] == 0
        @test results[2, :theta_deg] == 0
        @test 35 < results[6, :theta_deg] < 50  # should be 45ยบ
    end

    @testset "individual rotations" begin
        function test_mask_dictionary(masks; precision_goal_degrees::Float64)
            for (angle1, mask1) in masks
                for (angle2, mask2) in masks
                    angle_diff = angle2 - angle1
                    angle_diff_measured = rad2deg(IFTPipeline.get_rotation(mask1, mask2))
                    @test (angle_diff - precision_goal_degrees) <
                        angle_diff_measured <
                        (angle_diff + precision_goal_degrees)
                end
            end
        end
        @testset "rectangles" begin
            masks = Dict(
                90 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                80 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                60 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                45 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0
                    0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                30 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 0 1 1 1 1 1 1 1 1 1 0 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                25 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                10 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0
                    0 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0
                    0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                0 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -10 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -15 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 1 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -30 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0
                    0 0 0 0 1 1 1 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -45 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -55 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -60 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -75 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -80 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -90 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
            )
            test_mask_dictionary(masks; precision_goal_degrees=3.0)
        end
        @testset "joined rectangles" begin
            masks = Dict(
                180 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 0
                    0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0
                    0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                165 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 1 1 1 1 1 0 0 0 1 0 0 0 0 0 0
                    0 0 1 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                150 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0
                    0 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                135 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                120 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                90 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                80 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                60 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 1 1 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                45 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 1 1 1 1 1 1 0 0 0 0 0 0 0 0
                    0 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 1 1 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                30 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 0 0 0 0
                    0 0 0 0 0 1 0 1 1 1 1 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 0 0 0 0 0 0 0
                    0 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0
                    0 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0
                    0 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                15 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 0
                    0 0 1 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0
                    0 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0
                    0 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0
                    0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                0 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0
                    0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0
                    0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0
                    0 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -30 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 1 1 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 1 1 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 0
                    0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -45 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 1 1 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -60 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -80 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -90 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 1 1 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -120 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -135 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 0
                    0 0 0 0 0 0 0 0 1 1 1 1 1 1 0 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 0 0 0
                    0 0 0 0 0 0 0 0 1 1 1 1 0 0 0 0
                    0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
                    0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
                    0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -150 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0
                    0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 0
                    0 0 0 0 0 0 0 1 1 1 1 1 1 0 0 0
                    0 0 0 0 0 1 1 1 1 0 1 0 0 0 0 0
                    0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0
                    0 0 1 1 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
                -165 => Bool[
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0
                    0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 0
                    0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 0
                    0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 0
                    0 0 1 1 1 1 1 1 1 1 1 1 1 1 0 0
                    0 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0
                    0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                ],
            )
            test_mask_dictionary(masks; precision_goal_degrees=5.0)
        end
    end
end
